{"ast":null,"code":"var _jsxFileName = \"/Users/zermina/Development/code/mod4/project/boozer-react-project/frontend/src/App.js\";\n// import React from 'react';\nimport React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport CocktailIndexContainer from './containers/CocktailIndexContainer';\nimport ShowContainer from './containers/ShowContainer';\nimport FormContainer from './containers/FormContainer';\nimport ReactMapGL from 'react-map-gl';\nconst API = \"http://localhost:3000/api/v1/cocktails\";\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cocktails: [],\n      cocktail: {},\n      userLocation: {}\n    };\n\n    this.handleClickedCocktail = cocktail => {\n      let id = cocktail.id;\n      fetch(\"http://localhost:3000/api/v1/cocktails/\".concat(id)).then(res => res.json()).then(cocktailObj => {\n        this.setState({\n          cocktail: cocktailObj\n        });\n      });\n    };\n\n    this.updateAfterDeleteFetch = cocktail => {\n      let cocktailsArray = this.state.cocktails;\n      let foundIndex = cocktailsArray.findIndex(function (element) {\n        return element.id === cocktail.id;\n      });\n      let newArray = this.state.cocktails;\n      newArray.splice(foundIndex, 1);\n      this.setState({\n        cocktails: newArray,\n        cocktail: {}\n      });\n    };\n\n    this.handleSubmit = data => {\n      fetch(API, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": 'application/json',\n          \"Accepts\": 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.json()).then(cocktailObj => {\n        console.log(cocktailObj);\n        this.setState({\n          cocktails: [...this.state.cocktails, cocktailObj]\n        });\n      });\n    };\n\n    this.handleDelete = cocktail => {\n      console.log(\"HandleDelete:\", cocktail);\n      console.log(\"\".concat(API, \"/\").concat(cocktail.id));\n      fetch(\"\".concat(API, \"/\").concat(cocktail.id), {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": 'application/json'\n        }\n      }).then(res => {\n        this.updateAfterDeleteFetch(cocktail);\n      });\n    };\n\n    this.handleLocationButton = e => {\n      if (navigator.geolocation) {\n        console.log(\"Location is available\");\n        navigator.geolocation.getCurrentPosition(position => {\n          this.setState({\n            userLocation: {\n              lattitude: position.coords.lattitude,\n              longitude: position.coords.longitude\n            }\n          });\n          console.log(\"\".concat(this.state.userLocation.longitude, \", \").concat(this.state.userLocation.longitude));\n        });\n      } else console.log(\"geolocation is not available\");\n    };\n  }\n\n  componentDidMount() {\n    fetch(API).then(res => res.json()).then(array => {\n      this.setState({\n        cocktails: array\n      });\n    });\n  }\n\n  render() {\n    // const [viewPort, setViewPort] = useState({\n    //   latitude: 45.42,\n    //   longitude: -75.6903,\n    //   width: \"100vh\",\n    //   height: \"100vh\",\n    //   zoom: 50\n    // });\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      style: {\n        paddingTop: \"3%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-md-center\",\n      style: {\n        paddingTop: \"3%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-3 span4 col-3-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(ReactMapGL, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-6 col-6-lg header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"VELVET BROOKLYN\"), React.createElement(\"h6\", {\n      className: \"subheader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Bar & Lounge\"), React.createElement(\"button\", {\n      onClick: this.handleLocationButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Get Location\")), React.createElement(\"div\", {\n      className: \"col-3 col-3-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"body container-fluid\",\n      style: {\n        paddingTop: \"3%\"\n      },\n      height: \"80vh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-3 col-3-lg index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(CocktailIndexContainer, {\n      cocktails: this.state.cocktails,\n      handleClickedCocktail: this.handleClickedCocktail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-6 col-6-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.state.cocktail ? React.createElement(ShowContainer, {\n      handleDelete: this.handleDelete,\n      cocktail: this.state.cocktail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Click On A Cocktail\")), React.createElement(\"div\", {\n      className: \"col-3 col-3-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(FormContainer, {\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/zermina/Development/code/mod4/project/boozer-react-project/frontend/src/App.js"],"names":["React","useState","CocktailIndexContainer","ShowContainer","FormContainer","ReactMapGL","API","App","Component","state","cocktails","cocktail","userLocation","handleClickedCocktail","id","fetch","then","res","json","cocktailObj","setState","updateAfterDeleteFetch","cocktailsArray","foundIndex","findIndex","element","newArray","splice","handleSubmit","data","method","headers","body","JSON","stringify","console","log","handleDelete","handleLocationButton","e","navigator","geolocation","getCurrentPosition","position","lattitude","coords","longitude","componentDidMount","array","render","paddingTop"],"mappings":"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","sourcesContent":["// import React from 'react';\nimport React, {useState} from \"react\"\nimport logo from './logo.svg';\nimport './App.css';\nimport CocktailIndexContainer from './containers/CocktailIndexContainer'\nimport ShowContainer from './containers/ShowContainer'\nimport FormContainer from './containers/FormContainer';\nimport ReactMapGL from 'react-map-gl';\n\nconst API= \"http://localhost:3000/api/v1/cocktails\"\n\nexport default class App extends React.Component {\n\n\n  state={\n    cocktails:[],\n    cocktail:{},\n    userLocation:{}\n  }\n\n  componentDidMount(){\n  \n    fetch(API)\n    .then(res => res.json())\n    .then(array=> {\n        this.setState({\n          cocktails: array\n        })\n    })\n   \n  }\n\n  handleClickedCocktail = (cocktail) => {\n    let id = cocktail.id\n    fetch(`http://localhost:3000/api/v1/cocktails/${id}`)\n    .then(res=>res.json())\n    .then(cocktailObj=>{\n      this.setState({\n        cocktail:cocktailObj\n      })\n    })\n  }\n\n  updateAfterDeleteFetch=(cocktail)=>{\n    let cocktailsArray = this.state.cocktails\n          let foundIndex = cocktailsArray.findIndex(function(element) {\n            return element.id === cocktail.id;\n          });\n  \n          let newArray = this.state.cocktails\n          \n          newArray.splice(foundIndex,1)\n\n          this.setState({\n            cocktails: newArray,\n            cocktail:{}\n          })\n  }\n\n  handleSubmit=(data)=>{\n    \n    fetch(API, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json' ,\n        \"Accepts\": 'application/json'\n      },\n      body: JSON.stringify(data)})\n      .then(res=>res.json())\n      .then(cocktailObj=>{\n        console.log(cocktailObj)\n\n        this.setState({\n          cocktails: [...this.state.cocktails, cocktailObj]\n        })\n      })\n    \n  }\n\n  handleDelete=(cocktail)=>{\n    console.log(\"HandleDelete:\", cocktail)\n    console.log(`${API}/${cocktail.id}`)\n\n    fetch(`${API}/${cocktail.id}`, {\n      method: \"DELETE\",\n      headers:{\n        \"Content-Type\": 'application/json'}\n      })\n      .then(res=>\n        {\n         this.updateAfterDeleteFetch(cocktail)\n        })\n\n  }\n\n  handleLocationButton=(e)=>{\n    if(navigator.geolocation){\n      console.log(\"Location is available\")\n      navigator.geolocation.getCurrentPosition((position) => {\n        this.setState({\n          userLocation: {lattitude: position.coords.lattitude, longitude: position.coords.longitude}\n        }) \n        console.log(`${this.state.userLocation.longitude}, ${this.state.userLocation.longitude}`)\n      });\n    }\n    else\n      console.log(\"geolocation is not available\")\n  }\n\n\n  render(){\n    \n    // const [viewPort, setViewPort] = useState({\n    //   latitude: 45.42,\n    //   longitude: -75.6903,\n    //   width: \"100vh\",\n    //   height: \"100vh\",\n    //   zoom: 50\n    // });\n   \n    return(\n      <React.Fragment>{\n\n      }\n      <div className=\"App\">\n        <div className=\"container-fluid\" style={{paddingTop: \"3%\"}}>\n          \n          <div className=\"row justify-content-md-center\" style={{paddingTop:\"3%\"}}>\n              <div className=\"col-3 span4 col-3-lg\">\n                {/* insert map here */}\n                <ReactMapGL>\n\n                </ReactMapGL>\n              </div>\n              <div className=\"col-6 col-6-lg header\">\n                <h1 className=\"title\">VELVET BROOKLYN</h1>\n                <h6 className=\"subheader\">Bar & Lounge</h6>\n                <button onClick={this.handleLocationButton}>Get Location</button>\n              </div>\n              <div className=\"col-3 col-3-lg\">\n              </div>\n          </div>\n        \n     \n        <div className=\"body container-fluid\" style={{paddingTop: \"3%\"}} height=\"80vh\">\n          <div className=\"row justify-content-md-center\">\n              <div className=\"col-3 col-3-lg index\">\n              <CocktailIndexContainer cocktails={this.state.cocktails} handleClickedCocktail={this.handleClickedCocktail} />\n              </div>\n              <div className=\"col-6 col-6-lg\">\n                {this.state.cocktail? <ShowContainer handleDelete={this.handleDelete} cocktail={this.state.cocktail}/>:<p>Click On A Cocktail</p>}\n              </div>\n              <div className=\"col-3 col-3-lg\">\n                <FormContainer handleSubmit={this.handleSubmit}/>\n              </div>\n          </div>\n        </div>\n        </div>\n      </div>\n      </React.Fragment>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}